diff --git a/volo/Cargo.toml b/volo/Cargo.toml
index f610d8c..0847f92 100644
--- a/volo/Cargo.toml
+++ b/volo/Cargo.toml
@@ -5,8 +5,14 @@ edition.workspace = true
 
 # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
 
+[features]
+default = ["grpc", "http"]
+grpc = []
+http = ["dep:volo-http", "dep:http_grpc"]
+
 [dependencies]
 volo-gen = { path = "./volo-gen" }
+js0_srv = { path = "../srv" }
 
 volo.workspace = true
 volo-grpc.workspace = true
@@ -14,8 +20,12 @@ pilota.workspace = true
 
 anyhow.workspace = true
 tokio = { workspace = true, features = ["full"] }
-xrpc = "0.1.38"
+xrpc = { version = "0.1.38", features = ["volo-http", "volo-grpc"] }
 volo_boot = "0.1.3"
+log = "0.4.28"
+volo-http = { version = "0.4.3", features = ["server"], optional = true }
+http_grpc = { version = "0.1.20", optional = true }
+mimalloc = "0.1.48"
 
 [profile.release]
 opt-level = 3
